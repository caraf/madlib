<!DOCTYPE html>
<html lang="en" ng-app="myApp">
  <head>
    <link rel="stylesheet" type="text/css" href="style.css">
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.10/angular.min.js" type="text/javascript"></script>
    <script src="https://code.angularjs.org/1.3.10/angular-messages.min.js" type="text/javascript"></script>
    <script src="./myApp.js"></script>
    <title>Waitstaff Calculator</title>
  </head>

  <body class="body" ng-controller="MyCtrl">
    <h1>Waitstaff Calculator</h1>
    <form name="myForm" class="info-container" novalidate>
      <div name="mealDetailForm" class="info-with-border">
        <h2>Enter the Meal Details</h2>
	<p>Base Meal Price: $ <input type="text" name="baseMealPrice" ng-model="data.baseMealPrice" required ng-pattern="/^\d*.\d\d$/"></p> 
	<p>Tax Rate: % <input type="text" name="taxRate" ng-model="data.taxRate" required ng-pattern="/^\d*\.?\d+$/"></p> 
	<p>Tip Percentage: % <input type="number" name="tipPercentage" ng-model="data.tipPercentage" required ng-pattern="/^\d*\.?\d+$/"></p> 

	<button ng-click="submit()">Submit</button>
	<button ng-click="cancel()">Cancel</button>
      </div>

      <div class="info">
      
      <div class="right-forms">
        <h2>Customer Charges</h2>
	<p>Subtotal: {{data.subTotal}}</p>
	<p>Tip: {{data.tip}}</p>
	<p>Total: {{data.total}}</p>
      </div>

      <div class="right-forms">
        <h2>My Earnings Info</h2>
	<p>Tip Total: {{data.tipTotal}}</p>
	<p>Meal Count: {{data.mealCount}}</p>
	<p>Average Tip Per Meal: {{data.avgTipPerMeal}}</p>
      </div>
      <button ng-click="reset()">Reset</button>
    </form>

    <div ng-if="myForm.$submitted"  ng-messages="myForm.baseMealPrice.$error">
        <span ng-message="required">Base Meal Price is required!</span>
        <span ng-message="pattern">Base Meal Price must be of the form #.##!</span>
    </div>
    <div ng-if="myForm.$submitted"  ng-messages="myForm.taxRate.$error">
        <span ng-message="required">Tax Rate is required!</span>
        <span ng-message="pattern">Tax Rate must be numeric!</span>
    </div>
    <div ng-if="myForm.$submitted"  ng-messages="myForm.tipPercentage.$error">
        <span ng-message="required">Tip Percentage is required!</span>
        <span ng-message="pattern">Tip Percentage must be numeric!</span>
    </div>


  </body>
  
</html>
